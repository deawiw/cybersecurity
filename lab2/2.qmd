---
title: "Практическая работа 2"
subtitle: "Отчёт по практике"
author: "deawiw@yandex.ru"
format: 
  md:
    output-file: README.md
---

## Цель работы

1.  Развить практические навыки использования языка программирования R для обработки данных
2.  Закрепить знания базовых типов данных языка R
3.  Развить практические навыки использования функций обработки данных пакета dplyr – функции select(), filter(), mutate(), arrange(), group_by()

## Исходные данные

1. Программное обеспечение macOS 14.0 
2. RStudio Desktop
3. Интерпретатор языка R 4.1

## План

Проанализировать встроенный в пакет dplyr набор данных starwars с помощью языка R и ответить на вопросы

## Шаги:

0.  Загрузка библиотеки

    ```{r}
    library(dplyr)
    ```

1.  Сколько строк в датафрейме?

    ```{r}
    starwars %>% nrow()
    ```

2.  Сколько столбцов в датафрейме?

    ```{r}
    starwars %>% ncol()
    ```

3.  Как просмотреть примерный вид датафрейма?

    ```{r}
    starwars %>% glimpse()
    ```

4.  Сколько уникальных рас персонажей (species) представлено в данных?

    ```{r}
    length(unique(starwars$species))
    ```

5.  Найти самого высокого персонажа

    ```{r}
    starwars %>%
        filter(!is.na(height)) %>%
        arrange(desc(height)) %>%
        head(1)
    ```

6.  Найти всех персонажей ниже 170

    ```{r}
    starwars[starwars$height < 170, ]
    ```

7.  Подсчитать ИМТ (индекс массы тела) для всех персонажей. ИМТ подсчитать по формуле

    ```{r}
    starwars %>% 
      mutate("IMT" = mass/(height*height)) %>% 
      select(name,IMT)
    ```

8.  Найти 10 самых “вытянутых” персонажей. “Вытянутость” оценить по отношению массы (mass) к росту (height) персонажей

    ```{r}
   starwars %>% 
      mutate("MH" = mass/height) %>% 
      arrange(desc(MH)) %>%
      slice(1:10)
    ```

9.  Найти средний возраст персонажей каждой раcы вселенной Звездных войн

    ```{r}
    starwars %>%
      group_by(species) %>%
      summarise(avg_age = mean(birth_year, na.rm = TRUE)) %>%
      filter(!is.na(avg_age)) %>%
      arrange(desc(avg_age))
    ```

10. Найти самый распространенный цвет глаз персонажей вселенной Звездных войн

    ```{r}
    starwars %>%
      filter(!is.na(eye_color)) %>%
      count(eye_color, sort = TRUE) %>%
      slice(1)
    ```

11. Подсчитать среднюю длину имени в каждой расе

    ```{r}
    starwars %>%
        filter(!is.na(species), !is.na(name)) %>%
        mutate(name_length = nchar(name)) %>%
        group_by(species) %>%
        summarise(avg_name_length = mean(name_length))
    ```


## Оценка результата

В результате работы применены инструменты языка R для анализа данных, получены практические навыки загрузки, изучения структуры и обработки данных

## Вывод

Таким образом, мы развили навыки использования функций обработки данных пакета dplyr, такие как select(), filter(), mutate(), arrange(), group_by(), summarise().